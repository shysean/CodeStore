var alivetab=new Array();var closedtab=new Array();var flag=0;chrome.browserAction.onClicked.addListener(function(tab){if(flag>0){chrome.tabs.create({'url':closedtab[flag],'selected':true});flag--;}});chrome.tabs.onRemoved.addListener(function(tabId,removeInfo){flag++;closedtab[flag]=alivetab[tabId];});chrome.tabs.onUpdated.addListener(function(tabId,changeInfo,tab){alivetab[tab.id]=tab.url;});chrome.tabs.onCreated.addListener(function(tab){alivetab[tab.id]=tab.url;});